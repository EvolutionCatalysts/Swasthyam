<html>
<head>
  <base href="/">
  <title>Watson Assistant Chat App</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta property="og:image" content="conversation.svg" />
  <meta property="og:title" content="Conversation Chat Simple" />
  <meta property="og:description" content="Sample application that shows how to use the Watson Assistant API to identify user intents" />
  <link rel="shortcut icon" href="favicon.png" type="image/png">
  <script src="https://kit.fontawesome.com/a33cb60f3e.js" crossorigin="anonymous"></script>
  <!-- CSS only -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link rel="stylesheet" href="css/app.css">
</head>

<body>
  
  <div id="google_translate_element" style="padding-left:50%"></div>
  <div id="contentParent" class="responsive-columns-wrapper">
    <div id="chat-column-holder" class="responsive-column content-column ">
      <br>
      <div class="chat-column" style="border:solid;border-color:#8A2BE2;">

        <div id="scrollingChat"></div>
        <p class="user-typing" id="user-typing-field"></p>

        <label for="textInput" class="inputOutline">
          <input id="textInput" class="input responsive-column" placeholder="Type something" type="text" onkeydown="ConversationPanel.inputKeyDown(event, this)" 
            autofocus  >
        </label>
        <button class="btn" onclick="start();" style="background-color: transparent;"><i class="fas fa-microphone-alt"></i></button>
      


    <script type="text/javascript">
    function googleTranslateElementInit() {
      new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
    }
    </script>

    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

  </div>

  <script src="js/common.js"></script>
  <script src="js/api.js"></script>
  <script src="js/conversation.js"></script>
  <script src="js/payload.js"></script>
  <script src="js/global.js"></script>
  <script type="text/javascript" src="https://cdn.rawgit.com/watson-developer-cloud/watson-developer-cloud.github.io/master/analytics.js"></script>

  <script type='text/javascript'>
  var recognition = new webkitSpeechRecognition();
  recognition.continuous = false;
  //recognition.interimResults = true;
  function start(){
    recognition.onresult = function(event) { 
      console.log(event);
      var output=document.getElementById("textInput").value+' ';
      for(var i=0; i<event.results.length; i++){
        document.getElementById("textInput").value=output + event.results[i][0].transcript;
       
      }
       document.getElementById("textInput").focus();
    }
    recognition.start();
  }
  </script>


</body>
</html>
